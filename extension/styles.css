:root { --bg: #0f1115; --panel: #171923; --text: #e6e8ee; --muted: #a3a8b8; --accent: #4f8cff; }
* { box-sizing: border-box; }
html, body { margin:0; padding:0; background: var(--bg); color: var(--text); font: 14px/1.4 system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
button, input, select { font: inherit; }

header.toolbar { position: sticky; top: 0; display: flex; flex-wrap: wrap; gap: 8px; align-items: center; padding: 6px; background: var(--panel); border-bottom: 1px solid #2a2f3a; z-index: 5; }
header.toolbar .group { display:flex; gap:6px; align-items:center; }
button { background:#232838; color:var(--text); border:1px solid #2f3444; padding:6px 8px; border-radius:8px; cursor:pointer; transition: all 0.2s; }
button:hover { background:#2a3248; border-color: #364058; }
button.primary { background: var(--accent); border-color: transparent; color: white; }
button.primary:hover { background: #5f9cff; }
button:disabled { opacity: 0.5; cursor: not-allowed; }
label { display:flex; align-items:center; gap:4px; color: var(--muted); }

/* Zoom controls */
#zoomLevel { font-weight: 500; color: var(--accent); min-width: 50px; text-align: center; }

/* Mode buttons */
.mode-btn { min-width: 84px; font-weight: 500; }
.mode-btn:not(.primary) { background: #1a1f2e; }
.separator { color: #2a2f3a; margin: 0 4px; }

/* Delete button */
#deleteShape { background: #3a1f1f; border-color: #4a2f2f; }
#deleteShape:hover { background: #4a2f2f; border-color: #5a3f3f; }

.batch-panel { padding: 6px 8px; border-bottom: 1px solid #2a2f3a; }
.batch-panel details { background:#121521; padding:0; border-radius:8px; overflow: hidden; }
.batch-panel summary { padding: 8px; cursor: pointer; user-select: none; font-weight: 500; }
.batch-panel summary:hover { background: #1a1f2e; }
.batch-panel details[open] summary { background: #1a1f2e; border-bottom: 1px solid #2a2f3a; }
.batch-panel .batch-content { padding: 10px; }
.batch-panel .grid { display:grid; grid-template-columns: repeat(4, minmax(100px, 1fr)); gap:6px; margin:6px 0; }

.stage { display:flex; gap:12px; padding:12px; align-items: flex-start; overflow: auto; }
.dropzone { min-width: 220px; max-width: 220px; background:#121521; border:1px dashed #394055; border-radius:12px; padding:12px; }
.dropzone.over { background:#10131d; }
.thumbs { display:flex; flex-direction:column; gap:8px; margin-top:12px; max-height:70vh; overflow:auto; }
.thumb { border:1px solid #2a2f3a; background:#0e1018; padding:4px; border-radius:8px; display:block; transition: all 0.2s; }
.thumb:hover { border-color: #3a4f6a; }
.thumb.active { outline:2px solid var(--accent); }
.canvas { flex: 0 0 auto; background:#0b0d14; border:1px solid #2a2f3a; border-radius:12px; image-rendering: crisp-edges; }

/* Canvas cursor states */
.canvas[style*="crosshair"] { cursor: crosshair !important; }
.canvas[style*="move"] { cursor: move !important; }
.canvas[style*="default"] { cursor: default !important; }

/* Popup */
body.popup { width: 280px; padding: 12px; }
body.popup h1 { font-size: 16px; margin: 0 0 8px 0; }
body.popup .hint { color: var(--muted); font-size: 12px; margin-top: 8px; } 